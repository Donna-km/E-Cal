<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-Cal 7-Day Challenge</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body {
      font-family: 'Prompt', sans-serif;
      background-color: #fff5f8;
    }
    .highlight {
      color: #FF3974;
      font-weight: 700;
    }
    .card {
      background-color: white;
      border-radius: 1.5rem;
      box-shadow: 0 10px 25px rgba(255, 57, 116, 0.1);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start py-6 px-4">
  <!-- Header -->
  <div class="w-full max-w-md card p-5 text-center">
    <img src="https://i.pinimg.com/736x/67/22/cf/6722cfc1e8097f96d4c8c04aa2c76939.jpg"
      alt="7-Day Challenge Banner" class="rounded-2xl mb-4 shadow-md" />

    <h1 class="text-2xl font-bold text-[#FF3974] mb-2">7-Day Free Challenge üí™</h1>
    <p class="text-gray-700 mb-4">
      ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏ô 7 ‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏°? <br />
      ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡πÅ‡∏Ñ‡∏•‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ <span class="highlight">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á!</span>
    </p>

    <!-- Mission Section -->
    <div class="text-left bg-pink-50 rounded-xl p-4 mb-5">
      <h2 class="font-semibold text-[#FF3974] mb-2">üìÜ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥:</h2>
      <ul class="list-disc list-inside text-gray-700 text-sm">
        <li>‡∏ó‡∏≥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á</li>
        <li>‡∏™‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡πÅ‡∏Ñ‡∏• (‡∏£‡∏π‡∏õ/‡∏•‡∏¥‡∏á‡∏Å‡πå)</li>
        <li>‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏î‡πà‡∏≤‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏ä‡∏≠‡∏µ‡πÅ‡∏Ñ‡∏• üòÇ</li>
      </ul>
    </div>

    <!-- Reward Section -->
    <div class="bg-white border border-pink-200 rounded-xl p-4 mb-5">
      <h2 class="font-semibold text-[#FF3974] mb-2">üéÅ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö:</h2>
      <p class="text-gray-700 text-sm">
        ‡∏£‡∏±‡∏ö‡∏ü‡∏£‡∏µ! <span class="font-bold text-[#FF3974]">Premium Plan 1 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô üëë</span><br />
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•!
      </p>
    </div>

    <!-- Compare Table -->
    <h2 class="font-semibold text-[#FF3974] mb-2 text-lg">üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Free vs Premium</h2>
    <div class="overflow-x-auto mb-5">
      <table class="w-full text-sm border border-gray-200">
        <thead class="bg-[#FF3974] text-white">
          <tr>
            <th class="py-2">‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå</th>
            <th class="py-2">Free</th>
            <th class="py-2">Premium</th>
          </tr>
        </thead>
        <tbody class="text-gray-700">
          <tr class="border-b"><td class="py-2 px-2">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì TDEE</td><td class="text-center">‚úÖ</td><td class="text-center">‚úÖ</td></tr>
          <tr class="border-b"><td class="py-2 px-2">Smart Scan (AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏≤‡∏´‡∏≤‡∏£)</td><td class="text-center">‚ö™Ô∏è ‡∏à‡∏≥‡∏Å‡∏±‡∏î 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô</td><td class="text-center">‚úÖ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î</td></tr>
          <tr class="border-b"><td class="py-2 px-2">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</td><td class="text-center">‚ö™Ô∏è 3 ‡πÄ‡∏°‡∏ô‡∏π/‡∏ß‡∏±‡∏ô</td><td class="text-center">‚úÖ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î</td></tr>
          <tr class="border-b"><td class="py-2 px-2">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° Challenge</td><td class="text-center">‚úÖ 7 ‡∏ß‡∏±‡∏ô</td><td class="text-center">‚úÖ ‡∏ó‡∏∏‡∏Å Challenge</td></tr>
          <tr class="border-b"><td class="py-2 px-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</td><td class="text-center">‚ö™Ô∏è</td><td class="text-center">‚úÖ</td></tr>
          <tr><td class="py-2 px-2">‡πÅ‡∏ú‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</td><td class="text-center">‚ö™Ô∏è</td><td class="text-center">‚úÖ</td></tr>
        </tbody>
      </table>
    </div>

    <!-- CTA Buttons -->
    <button id="joinBtn" 
      class="w-full bg-[#FF3974] text-white text-lg font-semibold py-3 rounded-xl mb-3 hover:bg-pink-600 transition">
      üöÄ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
    </button>

    <button id="cancelBtn"
      class="w-full bg-gray-200 text-gray-700 text-sm py-2 rounded-xl hover:bg-gray-300 transition">
      ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
    </button>
  </div>

  <script>
    const joinBtn = document.getElementById("joinBtn");
    const cancelBtn = document.getElementById("cancelBtn");

    // üîπ Initialize LIFF
    async function initLiff() {
      await liff.init({ liffId: "2007859046-96MZOBMp" });
      if (!liff.isLoggedIn()) return liff.login();
    }

    // üîπ When user clicks join
    joinBtn.addEventListener("click", async () => {
      await initLiff();
      const profile = await liff.getProfile();
      const lineId = profile.userId;

      // ‡∏™‡πà‡∏á webhook ‡πÑ‡∏õ n8n ‡πÄ‡∏û‡∏∑‡πà‡∏≠ insert user_challenges
      await fetch("https://primary-production-49d9.up.railway.app/webhook/join-challenge", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          line_user_id: lineId,
          challenge_name: "7-day challenge"
        })
      });

      alert("üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° 7-Day Challenge ‡πÅ‡∏•‡πâ‡∏ß\n‡πÇ‡∏Ñ‡πâ‡∏ä‡∏≠‡∏µ‡πÅ‡∏Ñ‡∏•‡∏à‡∏∞‡∏™‡πà‡∏á‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ üí™");
      liff.closeWindow();
    });

    cancelBtn.addEventListener("click", () => {
      window.location.href = "https://liff.line.me/2007859046-BpXDWpXe";
    });
  </script>
</body>
</html>

